@using Entities.ViewModel
@model DersDuzenleVM
@{
    ViewBag.Title = "Duzenle";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<div class="page-header">
    <div class="row align-items-end">
        <div class="col-lg-8">
            <div class="page-header-title">
                <i class="ik ik-book bg-blue"></i>
                <div class="d-inline">
                    <h5>@Model.dersler.DersAdi Dersi </h5>
                    <span>Duzenle</span>
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <nav class="breadcrumb-container" aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="../index.html"><i class="ik ik-book"></i></a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="#"> Derslerim</a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">Duzenle</li>
                </ol>
            </nav>
        </div>
    </div>
</div>


<div>

    <div>
        <div class="row">
            <div class="col-lg-12">
                <div class="ibox-content">
                    @using (Html.BeginForm("Duzenle", "SinificiDers", FormMethod.Post, htmlAttributes: new { id = "form", role = "form", @class = "form-horizontal", enctype = "multipart/form-data" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.ValidationSummary("", htmlAttributes: new { @class = "text-danger" })

                        <h1><span>Genel Bilgiler</span></h1>
                        <fieldset>
                            <div class="col-md-12 row">

                                <div class="col-md-4" >
                                    <div>

                                        <div hidden><input name="DersId" value="@Model.dersler.DersId" /></div>
                                        <div hidden>
                                            <input name="SinifIciId" value="@Model.sinificiders.SinifIciId" />
                                        </div>

                                         <div class="fotograf_alani" style="margin-top:15%">
                                                <a href="@Url.Content("~/Content/no-image.png")" id="lightBoxGallery_href" data-gallery="">
                                                    <img src="@Model.dersler.DersAfis" style="width:180px;height:180px;" id="fotograf" class="img-preview" />
                                                </a>
                                            </div>
                                            <div class="fileinput fileinput-new" data-provides="fileinput" style="margin-left:20%">
                                                <span class="btn btn-outline btn-primary btn-file">
                                                    <span class="fileinput-new">Afiş Ekle</span>
                                                    <span class="fileinput-exists">Değiştir</span>
                                                    <input id="FirmaImage" class="btn btn-outline btn-primary" type="file" name="DersAfis" accept="image/x-png,image/gif,image/jpeg,image/jpg" />
                                                </span>
                                                <a href="#" id="fotograf_sil" class="close fileinput-exists fa-2x" data-dismiss="fileinput" style="float: none">&times;</a>
                                            </div>
                                     
                                    </div>
                                </div>

                                

                                <div class="col-md-8"  >
                                    <div class="form-group row">
                                        <label class="col-md-4 control-label"></label>
                                        <div class="col-md-8">
                                            <p class="text-warning" style="margin-left:25px">
                                                <span>*Zorunlu Alanlar</span>
                                            </p>
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label class="col-md-2 control-label">
                                            <span>Egitim Turu</span>
                                        </label>
                                        <div class="col-md-8">
                                            <input style="background-color:white" type="text" id="EgitimTuru" class="form-control" name="EgitimTuru" value="Sinif ici" disabled />
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label class="col-md-2 control-label">
                                            <span>Kategori</span>
                                            <span class="zorunlu">*</span>:
                                        </label>
                                        <div class="col-md-8">
                                            <select id="KategoriSelect" name="KategoriId" class="form-control" required>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-md-2 control-label">
                                            <span>Ders Adı</span>
                                            <span class="zorunlu">*</span>:
                                        </label>
                                        <div class="col-md-8">
                                            <input type="text" id="DersAdi" class="form-control" name="DersAdi" value="@Model.dersler.DersAdi" required />
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-md-2 control-label">
                                            <span>Ders Kodu</span>
                                            <span class="zorunlu">*</span>:
                                        </label>
                                        <div class="col-md-8">
                                            <div class="form-group" id="DersKodu">
                                                <input class="form-control regex_validation" name="DersKodu" value="@Model.dersler.DersKodu" type="text" data-type="text" required maxlength="4" id="DersKoduInput" />
                                                <div class="input-group-addon" style="width:574px;">
                                                    <span class="current" style="margin-left:32%">0</span> / <span class="max"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </fieldset>

                        <h1><span>Ders Bilgileri</span></h1>
                        <fieldset>
                            <div class="col-md-12 row">



                                <div class="col-md-10">
                                    <div class="form-group row">
                                        <label class="col-md-2 control-label">
                                            <span>Egitim Sorumlusu</span>
                                            <span class="zorunlu">*</span>:
                                        </label>
                                        <div class="col-md-8">
                                            <input class="form-control" name="EgitimSorumlusu" id="EgitimSorumlusu" type="text" value="@Model.sinificiders.EgitimSorumlusu" required />
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-md-2 control-label">
                                            <span>Hedef Kitle</span>
                                            <span class="zorunlu">*</span>:
                                        </label>
                                        <div class="col-md-8">
                                            <input class="form-control" name="HedefKitle" id="HedefKitle" type="text" value="@Model.sinificiders.HedefKitle" required />
                                        </div>
                                    </div>

                                    <div class="form-group row" id="CokluSeansPeriyod">
                                        <label class="col-md-2 control-label">
                                            <span>Ders Periyodu</span>
                                            <span class="zorunlu">*</span> :
                                        </label>
                                        <div class="col-md-4">
                                            <input class="form-control" id="SeansPeriyodInput" type="number" required />
                                        </div>
                                        <div class="col-md-4">
                                            <select id="SeansPeriyodSelect" class="form-control">
                                                <option value="0">Gün</option>
                                                <option value="1">Hafta</option>
                                                <option value="2">Ay</option>
                                                <option value="3">Yıl</option>
                                            </select>
                                        </div>
                                        <div hidden>
                                            <input class="form-control" id="SeansPeriyod" name="SeansPeriyodu" />
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-md-2 control-label">
                                            <span>Acıklama</span>
                                            <span class="zorunlu">*</span>:
                                        </label>
                                        <div class="col-md-8">
                                            <input type="text" id="Acıklama" class="form-control" name="Aciklama" value="@Model.dersler.Aciklama" required />
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </fieldset>




                    }
                </div>
            </div>
        </div>
    </div>

</div>




@section Styles
{

    <link href="~/Content/plugins/WizardSteps/css/wizard.css" rel="stylesheet" />

    <link href="~/Content/plugins/WizardSteps/css/jasny.css" rel="stylesheet" />
    <link href="~/Content/plugins/chosen/css/bootstrap-chosen.css" rel="stylesheet" />
    <link href="~/Content/plugins/WizardSteps/css/toastry.css" rel="stylesheet" />

    <style>
        .zorunlu {
            font-size: 15px;
            color: #e57373;
        }


        .col_padding_sil {
            padding-left: 0px !important;
        }


        .borderless {
            border-radius: 0px !important;
        }


        .current {
            color: #08874b;
        }

        .max {
            color: red;
        }


        .baslik {
            border-bottom: 1px solid #08874b;
            color: #08874b;
            display: inline-block;
            padding-bottom: 5px;
        }

        .fotograf_alani {
            border: 1px solid #BDBDBD;
            border-radius: 10px;
            height: 200px;
            padding: 5px;
            width: 200px;
        }

            .fotograf_alani img {
                display: block;
                margin-left: auto;
                margin-right: auto
            }

        .close {
            color: red !important;
            margin: 5px;
            opacity: .5 !important;
        }

        .fileinput {
            margin-top: 5px;
        }



        /*etki alanalri radio butonlar*/
        .radio-button input[type="radio"]:checked + a {
            z-index: 2;
            color: #fff;
            background-color: #18a689;
            border-color: #1ab394;
            cursor: default;
        }

        .radio-button label {
            padding: 6px 12px;
            margin-bottom: 0px;
            cursor: pointer;
        }

        .radio-button .pagination {
            margin: 0px !important;
        }

            .radio-button .pagination > li > a {
                padding: 0px;
                border-radius: 0px !important;
                border: 0px !important;
            }

        .radio-button input[type="radio"] {
            width: 0px;
            height: 0px;
            position: absolute;
            color: transparent;
            visibility: hidden;
        }

        .control-label{

           margin-left:25px;
        }
    </style>
}


@section Scripts
{


    <script src="~/Content/plugins/chosen/js/chosen.jquery.js"></script>
    <script src="~/Content/plugins/WizardSteps/js/jasny.js"></script>
    <script src="~/Content/plugins/WizardSteps/js/steps.js"></script>
    <script src="~/Content/plugins/WizardSteps/js/validate.js"></script>
    <script src="~/Content/plugins/WizardSteps/js/toastry.js"></script>

    <script src="~/Content/js/SinificiDers/DersDuzenle.js"></script>

    <script type="text/javascript">

         var firmaImagePath = '@Url.Content("~/Content/no-image.png")';
         var ajax_kategori_getir_url = '@Url.Action("KategoriGetir","SinificiDers")';

        $(document).ready(function () {

           $.ajax({
                    type: "GET",
                    url:ajax_kategori_getir_url,
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (kategoriler) {

                          $("#KategoriSelect").append(`<option value="bos" selected>Seciniz..</option>`);
                        for (var i = 0; i < kategoriler.length; i++) {

                            $("#KategoriSelect").append(`<option value="${kategoriler[i].Value}">${kategoriler[i].Text}</option>`);
                        }
                    },
                    error: function () {
                        alert("Hata");
                    },
                });



            $('.chosen-select').chosen({ width: "100%" });

            $('[name="check"]').on('change', function () {
                var value = parseInt($(this).val());

                if (value === 0) {
                    $("#DersKoduInput").prop('readonly', true);

                }
                else {
                    $('#DersKoduInput').prop('readonly', false);
                }


            });

});



    </script>

}